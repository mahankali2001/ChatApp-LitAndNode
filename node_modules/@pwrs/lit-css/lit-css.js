import cssnano from 'cssnano';
function stringToTemplateLiteral(x = '') {
    x = `${x}`;
    const escaped = x.replace(/\\|`|\$(?={)|(?<=<)\//g, y => `\\${y}`);
    return `\`${escaped}\``;
}
async function cssnanoify(css, options) {
    const cssnanoOptions = typeof options === 'object' ? options : undefined;
    const result = await cssnano(cssnanoOptions).process(css);
    return result.css;
}
export async function transform({ css: source, filePath, specifier = 'lit', tag = 'css', cssnano = false, transform = x => x, }) {
    const css = await transform(source, { filePath });
    const cssContent = cssnano ? await cssnanoify(css, cssnano)
        : css;
    return `import {${tag}} from '${specifier}';
export const styles = ${tag}${stringToTemplateLiteral(cssContent)};
export default styles;
`;
}
//# sourceMappingURL=lit-css.js.map